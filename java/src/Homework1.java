import org.jetbrains.annotations.NotNull;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Homework1 {

    public static void main(String[] args) {
//        System.out.println(helloWord());


//        1.
//        System.out.println(isOlder(Arrays.asList(3, 5, 4), Arrays.asList(4, 5, 4)));


//        2.
//        System.out.println(numberInMonth(Arrays.asList(Arrays.asList(4, 5, 4), Arrays.asList(4, 5, 4), Arrays.asList(4, 3, 4), Arrays.asList(4, 4, 4)), 5));
//        System.out.println(numberInMonth(Arrays.asList(Arrays.asList(4, 5, 4), Arrays.asList(4, 5, 4), Arrays.asList(4, 3, 4), Arrays.asList(4, 4, 4)), 3));
//        System.out.println(numberInMonth(Arrays.asList(Arrays.asList(4, 5, 4), Arrays.asList(4, 5, 4), Arrays.asList(4, 3, 4), Arrays.asList(4, 4, 4)), 4));
//        System.out.println(numberInMonth(Arrays.asList(Arrays.asList(4, 5, 4), Arrays.asList(4, 5, 4), Arrays.asList(4, 3, 4), Arrays.asList(4, 4, 4)), 2));


//        3.
//        System.out.println(numberInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 1)), Arrays.asList(1, 2)));
//        System.out.println(numberInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 1)), Arrays.asList(1, 2, 3)));
//        System.out.println(numberInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 1)), Arrays.asList(1, 3)));
//        System.out.println(numberInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 1)), Collections.singletonList(1)));
//        System.out.println(numberInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 1)), Collections.emptyList()));
//        System.out.println(numberInMonths(Collections.emptyList(), Collections.emptyList()));
//        System.out.println(numberInMonths(Collections.emptyList(), Arrays.asList(1, 2, 3)));


//        4.
//        System.out.println(datesInMonth(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), 2));
//        System.out.println(datesInMonth(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), 3));
//        System.out.println(datesInMonth(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), 4));


//        5.
//        System.out.println(datesInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), Arrays.asList(2, 3)));
//        System.out.println(datesInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), Arrays.asList(2, 4)));
//        System.out.println(datesInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), Arrays.asList(3, 4)));
//        System.out.println(datesInMonths(Arrays.asList(Arrays.asList(2000, 2, 1), Arrays.asList(2000, 2, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 2, 3)), Arrays.asList(1, 4)));


//        6.
//        System.out.println(getNth(Arrays.asList("a", "b", "c", "d"), 1));
//        System.out.println(getNth(Arrays.asList("a", "b", "c", "d"), 0));
//        System.out.println(getNth(Arrays.asList("a", "b", "c", "d"), 2));
//        System.out.println(getNth(Arrays.asList("a", "b", "c", "d"), 4));
//        System.out.println(getNth(Collections.emptyList(), 4));
//        System.out.println(getNth(Arrays.asList("a", "b", "c", "d"), 5));


//        7.
//        System.out.println(dateToString(Arrays.asList(2000, 1, 5)));
//        System.out.println(dateToStringAdditional(Arrays.asList(2000, 1, 6)));


//        8.
//        System.out.println(numberBeforeReachingSum(50, Arrays.asList(20, 20, 20)));
//        System.out.println(numberBeforeReachingSum(50, Arrays.asList(50, 20, 20)));
//        System.out.println(numberBeforeReachingSum(50, Arrays.asList(20, 30, 20)));


//    9.
//        System.out.println(whatMonth(12));
//        System.out.println(whatMonth(40));
//        System.out.println(whatMonth(31));
//        System.out.println(whatMonth(32));
//        System.out.println(whatMonth(59));
//        System.out.println(whatMonth(60));
//        System.out.println(whatMonth(90));
//        System.out.println(whatMonth(91));
//        System.out.println(whatMonth(365));

//    10.
//        System.out.println(monthRange(3, 3));
//        System.out.println(monthRange(31, 32));
//        System.out.println(monthRange(31, 33));
//        System.out.println(monthRange(29, 33));

//        11.
        System.out.println(oldest(Arrays.asList(Arrays.asList(2000, 1, 1), Arrays.asList(2000, 2, 1), Arrays.asList(1998, 1, 2), Arrays.asList(2000, 3, 1), Arrays.asList(1999, 3, 2))));
        System.out.println(oldest(Arrays.asList(Arrays.asList(2000, 1, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2001, 1, 2), Arrays.asList(2000, 3, 1), Arrays.asList(1999, 3, 2))));
        System.out.println(oldest(Arrays.asList(Arrays.asList(2000, 1, 1), Arrays.asList(2000, 2, 1), Arrays.asList(2000, 1, 2), Arrays.asList(2000, 3, 1), Arrays.asList(2000, 3, 2))));
    }

    public static String helloWord() {
        return "Hello, World";
    }

//    1.
    public static Boolean isOlder(List<Integer> date1, List<Integer> date2) {
        if (date1.get(0).equals(date2.get(0)) && date1.get(1).equals(date2.get(1)) && date1.get(2).equals(date2.get(2))) {
            return false;
        } else if (date1.get(0) > date2.get(0)) {
            return false;
        } else if (date1.get(0).equals(date2.get(0))) {
            return isOlder(Arrays.asList(date1.get(1), date1.get(2), 0), Arrays.asList(date2.get(1), date2.get(2), 0));
        } else {
            return true;
        }
    }

//    2.
    public static Integer numberInMonth(List<List<Integer>> dates, Integer month) {
        if (dates.isEmpty()) {
            return 0;
        } else if (dates.get(0).get(1).equals(month)) {
            return 1 + numberInMonth(dates.subList(1, dates.size()), month);
        } else {
            return numberInMonth(dates.subList(1, dates.size()), month);
        }
    }

//    3.
    public static Integer numberInMonths(List<List<Integer>> dates, List<Integer> months) {
        if (months.isEmpty()) {
            return 0;
        } else {
            return numberInMonth(dates, months.get(0)) + numberInMonths(dates, months.subList(1, months.size()));
        }
    }

//    4.
    public static List<List<Integer>> datesInMonth(List<List<Integer>> dates, Integer month) {
        if (dates.isEmpty()) {
            return Collections.emptyList();
        } else if (dates.get(0).get(1).equals(month)) {
            List<List<Integer>> tmpList = new java.util.ArrayList<>(Collections.singletonList(dates.get(0)));
            tmpList.addAll(datesInMonth(dates.subList(1, dates.size()), month));
            return tmpList;
        } else {
            return datesInMonth(dates.subList(1, dates.size()), month);
        }
    }

//    5.
    public static List<List<Integer>> datesInMonths(List<List<Integer>> dates, List<Integer> months) {
        if (months.isEmpty()) {
            return Collections.emptyList();
        } else {
            List<List<Integer>> tmpList = datesInMonth(dates, months.get(0));
            tmpList.addAll(datesInMonths(dates, months.subList(1, months.size())));
            return tmpList;
        }
    }

    // 6.
    public static String getNth(List<String> strings, Integer n) {
        if (strings.isEmpty() || n.equals(0) || n > strings.size()) {
            return "Error";
        } else if (n.equals(1)) {
            return strings.get(0);
        } else {
            return getNth(strings.subList(1, strings.size()), n-1);
        }
    }

    // 6.1
    public static String getNthSimplified(List<String> strings, Integer n) {
        if (strings.isEmpty() || n.equals(0) || n > strings.size()) {
            return "Error";
        } else {
            return strings.get(n-1);
        }
    }

    // 7.
    public static String dateToString(List<Integer> date) {
        List<String> monthsNames = Arrays.asList("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
        return getNth(monthsNames, date.get(1)) + " " + date.get(2) + ", " + date.get(0);
    }

    // 7.1
    public static String dateToStringAdditional(List<Integer> date) {
        List<String> monthsNames = Arrays.asList("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
        return getNth(monthsNames, date.get(1)).concat(" ").concat(String.valueOf(date.get(2))).concat(", ").concat(String.valueOf(date.get(0)));
    }

    // 8
    public static Integer numberBeforeReachingSum(Integer sum, List<Integer> numbers) {
        return extendedNested(sum, numbers, 0);
    }

    // 8.1
    public static Integer extendedNested(Integer sum, @NotNull List<Integer> numbers, Integer n) {
        int newSum = sum - numbers.get(0);

        if (newSum <= 0) {
            return n;
        } else {
            return extendedNested(newSum, numbers.subList(1, numbers.size()), n+1);
        }
    }

    // 9
    @NotNull
    public static Integer whatMonth(Integer day) {
        List<Integer> monthsLength = Arrays.asList(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);

        return numberBeforeReachingSum(day, monthsLength) + 1;
    }

    // 10
    @NotNull
    public static List<Integer> monthRange(Integer day1, Integer day2) {
        if (day1 > day2) {
            return Collections.emptyList();
        } else {
            List<Integer> tmpList = new java.util.ArrayList<>(Collections.singletonList(whatMonth(day1)));
            tmpList.addAll(monthRange(day1 + 1, day2));
            return tmpList;
        }
    }

    // 11
    public static List<Integer> oldest(List<List<Integer>> dates) {
        if (dates.isEmpty()) {
            return null;
        } else {
            List<Integer> tmpAnswer = oldest(dates.subList(1, dates.size()));

            if (tmpAnswer != null && isOlder(tmpAnswer, dates.get(0))) {
                return tmpAnswer;
            }
            else {
                return dates.get(0);
            }
        }
    }
}
